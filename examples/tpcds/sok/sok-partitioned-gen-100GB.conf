spark-bench = {
  spark-submit-config = [
    {
      spark-bench-jar = "hdfs://hdfs:9000/spark-bench/lib/spark-bench-2.3.0_0.4-SNAPSHOT.jar"
      conf = {
        "spark.ui.showConsoleProgress" = "false"
        "spark.ui.enabled" = "false"
        "spark.ui.retainedJobs" = "0"
        "spark.ui.retainedStages" = "0"
        "spark.ui.retainedTasks" = "0"
        "spark.sql.ui.retainedExecutions" = "0"
        "spark.sql.autoBroadcastJoinThreshold" = "134217728"
        "spark.sql.crossJoin.enabled" = "true"
        "spark.sql.shuffle.partitions" = "10"
        "spark.serializer" = "org.apache.spark.serializer.KryoSerializer"
        "spark.debug.maxToStringFields" = "100"
        "spark.sql.warehouse.dir" = "hdfs://hdfs:9000/tpcds-warehouse-partitioned-100GB"
        "spark.executor.cores" = "1"
        "spark.executor.instances" = "30"
        "spark.executor.memory" = "8G"
        "spark.driver.memory" = "6G"
        "spark.app.name" = "sok-tpcds-100GB"
        "spark.driver.maxResultSize" = "4G"
        "spark.kubernetes.container.image" = "showermat/spark:2.3.0-hadoop3.0.0"
        "spark.kubernetes.allocation.batch.size" = "60"
        "spark.executor.heartbeatInterval" = "60s"
        "spark.jars" = "hdfs://hdfs:9000/spark-bench/lib/spark-bench-2.3.0_0.4-SNAPSHOT.jar"
      }
      suites-parallel = false
      workload-suites = [
        {
          descr = "Generate a partitioned 100GB dataset and queries"
          benchmark-output = "hdfs://hdfs:9000/tpcds-bench-output-partitioned-gen-100GB.csv"
          parallel = false
          workloads = [
            {
              name = "tpcdsdatagen"
              tpcds-data-output = "hdfs://hdfs:9000/tpcds-data-partitioned-100GB"
              tpcds-kit-dir = "hdfs://hdfs:9000/tpcds-kit"
              table-options = "hdfs://hdfs:9000/table-options-partitioned-100GB.json"
              tpcds-scale = 100
              tpcds-create-tables-only = false
            },
            {
              name = "tpcdsquerygen"
              tpcds-query-output = "hdfs://hdfs:9000/tpcds-queries-partitioned-100GB"
              tpcds-kit-dir = "hdfs://hdfs:9000/tpcds-kit"
              tpcds-scale = 100
              tpcds-streams = 1
            }
          ]
        }
      ]
    }
  ]
}
